# ğŸ“ App Structure - X-Ray Fun Camera

## ğŸ—ºï¸ Screen Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Splash Screen  â”‚
â”‚   (2 seconds)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Disclaimer    â”‚ â—„â”€â”€â”€ First time only
â”‚  (Must Accept)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    HOME SCREEN                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Gallery    â”‚  â”‚   Samples    â”‚  â”‚   Settings   â”‚ â”‚
â”‚  â”‚   (NEW!)     â”‚  â”‚   (NEW!)     â”‚  â”‚              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚         â”‚                  â”‚                  â”‚         â”‚
â”‚         â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚         â”‚
â”‚         â”‚    â”‚  START X-RAY SCAN      â”‚      â”‚         â”‚
â”‚         â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                â”‚                   â”‚
          â–¼                â–¼                   â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Gallery  â”‚    â”‚  Camera  â”‚      â”‚   Settings   â”‚
   â”‚  Screen  â”‚    â”‚  Screen  â”‚      â”‚    Screen    â”‚
   â”‚  (NEW!)  â”‚    â”‚          â”‚      â”‚              â”‚
   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚               â”‚                    â”‚
        â”‚               â–¼                    â”œâ”€â–º Language
        â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”œâ”€â–º Privacy
        â”‚        â”‚  Result  â”‚               â””â”€â–º Terms
        â”‚        â”‚  Screen  â”‚
        â”‚        â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
        â”‚             â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â–º View/Delete Images
```

## ğŸ“ File Structure

```
x_ray_karo/
â”‚
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ main.dart                          # App entry, routing, theme
â”‚   â”‚
â”‚   â”œâ”€â”€ core/                              # Core utilities
â”‚   â”‚   â”œâ”€â”€ constants.dart                 # Colors, strings, ad IDs
â”‚   â”‚   â”œâ”€â”€ theme.dart                     # Light & dark themes
â”‚   â”‚   â””â”€â”€ utils.dart                     # Helper functions
â”‚   â”‚
â”‚   â”œâ”€â”€ screens/                           # All UI screens
â”‚   â”‚   â”œâ”€â”€ splash_screen.dart             # Animated intro
â”‚   â”‚   â”œâ”€â”€ disclaimer_screen.dart         # Legal acceptance
â”‚   â”‚   â”œâ”€â”€ home_screen.dart               # Main hub
â”‚   â”‚   â”œâ”€â”€ camera_screen.dart             # Live camera + overlay
â”‚   â”‚   â”œâ”€â”€ result_screen.dart             # View captured photo
â”‚   â”‚   â”œâ”€â”€ gallery_screen.dart            # âœ¨ NEW - Browse images
â”‚   â”‚   â”œâ”€â”€ samples_screen.dart            # âœ¨ NEW - Ideas & tips
â”‚   â”‚   â”œâ”€â”€ settings_screen.dart           # App preferences
â”‚   â”‚   â”œâ”€â”€ privacy_screen.dart            # Privacy policy
â”‚   â”‚   â”œâ”€â”€ terms_screen.dart              # Terms of use
â”‚   â”‚   â””â”€â”€ language_selector_screen.dart  # Language picker
â”‚   â”‚
â”‚   â”œâ”€â”€ services/                          # Business logic
â”‚   â”‚   â”œâ”€â”€ ad_service.dart                # AdMob management
â”‚   â”‚   â”œâ”€â”€ permission_service.dart        # Camera/storage permissions
â”‚   â”‚   â”œâ”€â”€ storage_service.dart           # SharedPreferences wrapper
â”‚   â”‚   â””â”€â”€ sound_service.dart             # âœ¨ NEW - Sounds & haptics
â”‚   â”‚
â”‚   â””â”€â”€ widgets/                           # Reusable components
â”‚       â”œâ”€â”€ skeleton_overlay.dart          # Skeleton drawing
â”‚       â”œâ”€â”€ animated_scan_line.dart        # Scan animation
â”‚       â””â”€â”€ primary_button.dart            # Custom button
â”‚
â”œâ”€â”€ android/                               # Android config
â”œâ”€â”€ ios/                                   # iOS config
â”œâ”€â”€ assets/                                # Images, fonts
â”‚
â”œâ”€â”€ pubspec.yaml                           # Dependencies
â”œâ”€â”€ README.md                              # Full documentation
â”œâ”€â”€ SETUP_GUIDE.md                         # Quick setup
â”œâ”€â”€ IMPLEMENTATION_SUMMARY.md              # What was done
â”œâ”€â”€ QUICK_REFERENCE.md                     # Quick commands
â””â”€â”€ APP_STRUCTURE.md                       # This file
```

## ğŸ”„ Data Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    USER ACTIONS                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚           â”‚           â”‚
        â–¼           â–¼           â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Camera â”‚  â”‚ Galleryâ”‚  â”‚Settingsâ”‚
   â”‚ Screen â”‚  â”‚ Screen â”‚  â”‚ Screen â”‚
   â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
       â”‚           â”‚           â”‚
       â–¼           â–¼           â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚         SERVICES               â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ â€¢ PermissionService            â”‚
   â”‚ â€¢ StorageService               â”‚
   â”‚ â€¢ SoundService (NEW!)          â”‚
   â”‚ â€¢ AdService                    â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚      DEVICE STORAGE            â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ â€¢ SharedPreferences            â”‚
   â”‚   - Theme preference           â”‚
   â”‚   - Sound enabled              â”‚
   â”‚   - Language                   â”‚
   â”‚   - Disclaimer accepted        â”‚
   â”‚                                â”‚
   â”‚ â€¢ File System                  â”‚
   â”‚   - Pictures/XrayFunCamera/    â”‚
   â”‚   - Captured images            â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¨ Theme System

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         User selects theme           â”‚
â”‚         in Settings Screen           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    StorageService.setThemeMode()     â”‚
â”‚    Saves to SharedPreferences        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    XrayFunApp.setThemeMode()         â”‚
â”‚    Updates app state                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    MaterialApp rebuilds              â”‚
â”‚    with new ThemeMode                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    All screens update                â”‚
â”‚    with new theme                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”Š Sound & Haptics Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      User performs action            â”‚
â”‚   (capture, save, share, etc.)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Screen calls SoundService         â”‚
â”‚    â€¢ playScanSound()                 â”‚
â”‚    â€¢ playCaptureSound()              â”‚
â”‚    â€¢ playSuccessSound()              â”‚
â”‚    â€¢ hapticLight/Medium/Heavy()      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    SoundService checks               â”‚
â”‚    StorageService.soundEnabled       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
         â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
         â”‚         â”‚
    Enabled    Disabled
         â”‚         â”‚
         â–¼         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Play   â”‚  â”‚ Skip   â”‚
    â”‚ Sound  â”‚  â”‚        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“¸ Camera to Gallery Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    User taps capture button          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Camera captures photo             â”‚
â”‚    Saves to temp file                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Navigate to Result Screen         â”‚
â”‚    Shows X-ray effect                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    User taps "Save"                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    AppUtils.saveImageToGallery()     â”‚
â”‚    Copies to Pictures/XrayFunCamera/ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Image now in Gallery              â”‚
â”‚    Visible in Gallery Screen         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ Feature Dependencies

```
Camera Screen
â”œâ”€â”€ PermissionService (camera permission)
â”œâ”€â”€ SoundService (haptics & sounds)
â”œâ”€â”€ StorageService (scan count)
â””â”€â”€ CameraController (Flutter camera)

Result Screen
â”œâ”€â”€ SoundService (haptics & sounds)
â”œâ”€â”€ AdService (interstitial ads)
â”œâ”€â”€ AppUtils (save to gallery)
â””â”€â”€ Share (share functionality)

Gallery Screen
â”œâ”€â”€ path_provider (find Pictures directory)
â”œâ”€â”€ File system (read images)
â””â”€â”€ Result Screen (view images)

Settings Screen
â”œâ”€â”€ StorageService (save preferences)
â”œâ”€â”€ XrayFunApp (update theme)
â””â”€â”€ Language Selector (change language)

Home Screen
â”œâ”€â”€ AdService (banner ads)
â”œâ”€â”€ Share (share app)
â””â”€â”€ url_launcher (rate app)
```

## ğŸ” Permissions Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    App needs camera/storage          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    PermissionService.hasPermission() â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
         â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
         â”‚         â”‚
    Granted    Not Granted
         â”‚         â”‚
         â–¼         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚Proceed â”‚  â”‚Request Permissionâ”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
                    â”‚         â”‚
               Granted    Denied
                    â”‚         â”‚
                    â–¼         â–¼
               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚Proceed â”‚  â”‚Show    â”‚
               â”‚        â”‚  â”‚Error   â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“± Screen Hierarchy

```
MaterialApp
â””â”€â”€ ScreenUtilInit (responsive design)
    â””â”€â”€ Routes
        â”œâ”€â”€ / â†’ SplashScreen
        â”œâ”€â”€ /disclaimer â†’ DisclaimerScreen
        â”œâ”€â”€ /home â†’ HomeScreen
        â”‚   â”œâ”€â”€ Drawer (navigation menu)
        â”‚   â”œâ”€â”€ AppBar (title, settings)
        â”‚   â””â”€â”€ Body
        â”‚       â”œâ”€â”€ Hero animation
        â”‚       â”œâ”€â”€ Start scan button
        â”‚       â”œâ”€â”€ Gallery tile (NEW!)
        â”‚       â”œâ”€â”€ Samples tile (NEW!)
        â”‚       â””â”€â”€ Banner ad
        â”œâ”€â”€ /camera â†’ CameraScreen
        â”‚   â”œâ”€â”€ CameraPreview
        â”‚   â”œâ”€â”€ SkeletonOverlay
        â”‚   â”œâ”€â”€ AnimatedScanLine
        â”‚   â””â”€â”€ Capture button
        â”œâ”€â”€ /result â†’ ResultScreen
        â”‚   â”œâ”€â”€ Image with X-ray filter
        â”‚   â”œâ”€â”€ SkeletonOverlay
        â”‚   â””â”€â”€ Action buttons
        â”œâ”€â”€ /gallery â†’ GalleryScreen (NEW!)
        â”‚   â”œâ”€â”€ GridView of images
        â”‚   â””â”€â”€ Delete/view actions
        â”œâ”€â”€ /samples â†’ SamplesScreen (NEW!)
        â”‚   â”œâ”€â”€ Sample ideas
        â”‚   â””â”€â”€ Pro tips
        â”œâ”€â”€ /settings â†’ SettingsScreen
        â”‚   â”œâ”€â”€ Sound toggle
        â”‚   â”œâ”€â”€ Theme selector
        â”‚   â””â”€â”€ Language selector
        â”œâ”€â”€ /privacy â†’ PrivacyScreen
        â”œâ”€â”€ /terms â†’ TermsOfUseScreen
        â””â”€â”€ /language â†’ LanguageSelectorScreen
```

## ğŸ¨ Widget Composition

```
HomeScreen
â”œâ”€â”€ Scaffold
â”‚   â”œâ”€â”€ Drawer
â”‚   â”‚   â””â”€â”€ ListView (menu items)
â”‚   â””â”€â”€ Body
â”‚       â””â”€â”€ Container (gradient background)
â”‚           â””â”€â”€ CustomScrollView
â”‚               â”œâ”€â”€ SliverAppBar
â”‚               â”‚   â”œâ”€â”€ Menu button
â”‚               â”‚   â”œâ”€â”€ Title
â”‚               â”‚   â””â”€â”€ Settings button
â”‚               â””â”€â”€ SliverToBoxAdapter
â”‚                   â”œâ”€â”€ Hero animation
â”‚                   â”‚   â””â”€â”€ SkeletonOverlay
â”‚                   â”œâ”€â”€ Start scan button
â”‚                   â”œâ”€â”€ Feature tiles
â”‚                   â”‚   â”œâ”€â”€ Gallery (NEW!)
â”‚                   â”‚   â””â”€â”€ Samples (NEW!)
â”‚                   â”œâ”€â”€ Info card
â”‚                   â”œâ”€â”€ Banner ad
â”‚                   â””â”€â”€ Action buttons
```

## ğŸ”„ State Management

```
App State (StatefulWidget)
â”œâ”€â”€ _XrayFunAppState
â”‚   â”œâ”€â”€ _locale (Locale?)
â”‚   â”œâ”€â”€ _themeMode (ThemeMode)
â”‚   â”œâ”€â”€ setLocale()
â”‚   â””â”€â”€ _setThemeMode()

Screen State (StatefulWidget)
â”œâ”€â”€ Camera Screen
â”‚   â”œâ”€â”€ _controller (CameraController?)
â”‚   â”œâ”€â”€ _isScanning (bool)
â”‚   â”œâ”€â”€ _isCapturing (bool)
â”‚   â””â”€â”€ _scanProgress (double)
â”‚
â”œâ”€â”€ Result Screen
â”‚   â”œâ”€â”€ _isSaving (bool)
â”‚   â””â”€â”€ _fadeController (AnimationController)
â”‚
â”œâ”€â”€ Gallery Screen
â”‚   â”œâ”€â”€ _images (List<FileSystemEntity>)
â”‚   â””â”€â”€ _isLoading (bool)
â”‚
â””â”€â”€ Settings Screen
    â”œâ”€â”€ _soundEnabled (bool)
    â”œâ”€â”€ _themeMode (String)
    â””â”€â”€ _appVersion (String)
```

---

## ğŸ“Š Summary

- **11 Screens** - All implemented and working
- **5 Services** - Business logic layer
- **3+ Widgets** - Reusable components
- **11 Routes** - Complete navigation
- **14 Languages** - i18n support
- **2 Themes** - Light + Dark
- **Complete** - End-to-end functional

Your app has a clean, modular architecture that's easy to maintain and extend!
